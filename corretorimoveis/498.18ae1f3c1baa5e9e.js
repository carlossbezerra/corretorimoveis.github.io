"use strict";(self.webpackChunkcorretorimoveis=self.webpackChunkcorretorimoveis||[]).push([[498],{498:(G,d,s)=>{s.r(d),s.d(d,{HomeModule:()=>O});var c=s(6895),m=s(1410),o=s(8256);let Z=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-6","mb-2"],["src","assets/img/home.jpg","alt","imagem de um lindo imovel de boas vindas",1,"img-fluid","d-none","d-sm-block"],[1,"col-md-6"]],template:function(n,r){1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"img",3),o.qZA(),o.TgZ(4,"div",4),o._UZ(5,"router-outlet"),o.qZA()()())},dependencies:[m.lC]}),e})();var C=s(8505),v=s(2340),f=s(529),F=s(620);const _=v.N.apiURL;let S=(()=>{class e{constructor(n,r){this.httpClient=n,this.usuarioService=r}autenticar(n,r){return this.httpClient.post(`${_}/user/login`,{userName:n,password:r},{observe:"response"}).pipe((0,C.b)(u=>{const i=u.headers.get("x-access-token")??"";this.usuarioService.salvaToken(i)}))}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(f.eN),o.LFG(F.i))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var a=s(433),h=s(6341);function T(e,t){1&e&&o._UZ(0,"app-mensagem",12)}function E(e,t){1&e&&o._UZ(0,"app-mensagem",13)}const I=function(){return["novousuario"]};let J=(()=>{class e{constructor(n,r){this.authService=n,this.router=r,this.usuario="",this.senha=""}ngOnInit(){}login(){this.authService.autenticar(this.usuario,this.senha).subscribe(()=>{this.router.navigate(["imoveis"])},n=>{alert("Usu\xe1rio ou senha invalido"),console.log(n)})}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(S),o.Y36(m.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:18,vars:7,consts:[[1,"text-center"],[1,"form","mt-4",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["placeholder","Nome do usu\xe1rio","name","usuario","required","",1,"form-control",3,"ngModel","ngModelChange"],["campoUsuario","ngModel"],["mensagem","Usu\xe1rio obrigat\xf3rio",4,"ngIf"],["type","password","placeholder","Senha","name","senha","required","",1,"form-control",3,"ngModel","ngModelChange"],["campoSenha","ngModel"],["mensagem","Senha obrigat\xf3ria",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[3,"routerLink"],["mensagem","Usu\xe1rio obrigat\xf3rio"],["mensagem","Senha obrigat\xf3ria"]],template:function(n,r){if(1&n&&(o.TgZ(0,"h4",0),o._uU(1,"Login"),o.qZA(),o.TgZ(2,"form",1,2),o.NdJ("ngSubmit",function(){return r.login()}),o.TgZ(4,"div",3)(5,"input",4,5),o.NdJ("ngModelChange",function(i){return r.usuario=i}),o.qZA(),o.YNc(7,T,1,0,"app-mensagem",6),o.qZA(),o.TgZ(8,"div",3)(9,"input",7,8),o.NdJ("ngModelChange",function(i){return r.senha=i}),o.qZA(),o.YNc(11,E,1,0,"app-mensagem",9),o.qZA(),o.TgZ(12,"button",10),o._uU(13," Login "),o.qZA()(),o.TgZ(14,"p"),o._uU(15,"N\xe3o \xe9 um usu\xe1rio? "),o.TgZ(16,"a",11),o._uU(17,"Se cadastre!"),o.qZA()()),2&n){const u=o.MAs(3),i=o.MAs(6),l=o.MAs(10);o.xp6(5),o.Q6J("ngModel",r.usuario),o.xp6(2),o.Q6J("ngIf",i.invalid&&i.touched),o.xp6(2),o.Q6J("ngModel",r.senha),o.xp6(2),o.Q6J("ngIf",l.invalid&&l.touched),o.xp6(1),o.Q6J("disabled",u.invalid),o.xp6(4),o.Q6J("routerLink",o.DdM(6,I))}},dependencies:[c.O5,m.yS,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.On,a.F,h.c]}),e})();function A(e){const t=e.value;return t!==t.toLowerCase()?{minusculo:!0}:null}function L(e){const t=e.get("userName")?.value??"",n=e.get("password")?.value??"";return t.trim()+n.trim()?t!==n?null:{senhaIgualUsuario:!0}:null}const U=v.N.apiURL;let N=(()=>{class e{constructor(n){this.http=n}cadastraNovoUsuario(n){return this.http.post(`${U}/user/signup`,n)}verificarUsuarioExistente(n){return this.http.get(`${U}/user/exists/${n}`)}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(f.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=s(3900),x=s(4004),y=s(590);let b=(()=>{class e{constructor(n){this.novoUsuarioService=n}usuarioJaExiste(){return n=>n.valueChanges.pipe((0,M.w)(r=>this.novoUsuarioService.verificarUsuarioExistente(r)),(0,x.U)(r=>r?{usuarioExistente:!0}:null),(0,y.P)())}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(N))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Y(e,t){1&e&&o._UZ(0,"app-mensagem",15)}function Q(e,t){1&e&&o._UZ(0,"app-mensagem",16)}function H(e,t){1&e&&o._UZ(0,"app-mensagem",17)}function q(e,t){1&e&&o._UZ(0,"app-mensagem",18)}function w(e,t){1&e&&o._UZ(0,"app-mensagem",19)}function j(e,t){1&e&&o._UZ(0,"app-mensagem",20)}const k=function(){return[""]},R=[{path:"",component:Z,children:[{path:"",component:J},{path:"novousuario",component:(()=>{class e{constructor(n,r,u,i){this.formBuilder=n,this.novoUsuarioService=r,this.usuarioExistenteService=u,this.router=i}ngOnInit(){this.novoUsuarioForm=this.formBuilder.group({email:["",[a.kI.required,a.kI.email]],fullName:["",[a.kI.required,a.kI.minLength(4)]],userName:["",[A],[this.usuarioExistenteService.usuarioJaExiste()]],password:[""]},{Validators:[L]})}cadastrar(){if(this.novoUsuarioForm.valid){const n=this.novoUsuarioForm.getRawValue();this.novoUsuarioService.cadastraNovoUsuario(n).subscribe(()=>{this.router.navigate([""])},r=>{console.log(r)})}}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(a.qu),o.Y36(N),o.Y36(b),o.Y36(m.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-novo-usuario"]],decls:23,vars:9,consts:[[1,"text-center"],[1,"form","mt-4",3,"formGroup","submit"],[1,"form-group"],["placeholder","e-mail","formControlName","email",1,"form-control"],["mensagem","E-mail obrigat\xf3rio",4,"ngIf"],["mensagem","E-mail no formato incorreto",4,"ngIf"],["placeholder","Nome Completo","formControlName","fullName",1,"form-control"],["mensagem","Nome incorreto",4,"ngIf"],["placeholder","Usu\xe1rio","formControlName","userName",1,"form-control"],["mensagem","Usu\xe1rio deve ser em letra min\xfascula",4,"ngIf"],["mensagem","Usu\xe1rio j\xe1 existe",4,"ngIf"],["type","password","placeholder","Senha","formControlName","password",1,"form-control"],["mensagem","Senha deve ser diferente do usu\xe1rio",4,"ngIf"],[1,"btn","btn-primary","btn-block"],[3,"routerLink"],["mensagem","E-mail obrigat\xf3rio"],["mensagem","E-mail no formato incorreto"],["mensagem","Nome incorreto"],["mensagem","Usu\xe1rio deve ser em letra min\xfascula"],["mensagem","Usu\xe1rio j\xe1 existe"],["mensagem","Senha deve ser diferente do usu\xe1rio"]],template:function(n,r){if(1&n&&(o.TgZ(0,"h4",0),o._uU(1,'Registre-se e e compre seu imovel[ngClass]=""!'),o.qZA(),o.TgZ(2,"form",1),o.NdJ("submit",function(){return r.cadastrar()}),o.TgZ(3,"div",2),o._UZ(4,"input",3),o.YNc(5,Y,1,0,"app-mensagem",4),o.YNc(6,Q,1,0,"app-mensagem",5),o.qZA(),o.TgZ(7,"div",2),o._UZ(8,"input",6),o.YNc(9,H,1,0,"app-mensagem",7),o.qZA(),o.TgZ(10,"div",2),o._UZ(11,"input",8),o.YNc(12,q,1,0,"app-mensagem",9),o.YNc(13,w,1,0,"app-mensagem",10),o.qZA(),o.TgZ(14,"div",2),o._UZ(15,"input",11),o.YNc(16,j,1,0,"app-mensagem",12),o.qZA(),o.TgZ(17,"button",13),o._uU(18,"Cadastro"),o.qZA()(),o.TgZ(19,"p"),o._uU(20,"J\xe1 um usu\xe1rio? "),o.TgZ(21,"a",14),o._uU(22," Fa\xe7a Login"),o.qZA()()),2&n){let u,i,l,p,g;o.xp6(2),o.Q6J("formGroup",r.novoUsuarioForm),o.xp6(3),o.Q6J("ngIf",(null==(u=r.novoUsuarioForm.get("email"))||null==u.errors?null:u.errors.required)&&(null==(u=r.novoUsuarioForm.get("email"))?null:u.touched)),o.xp6(1),o.Q6J("ngIf",(null==(i=r.novoUsuarioForm.get("email"))||null==i.errors?null:i.errors.email)&&(null==(i=r.novoUsuarioForm.get("email"))?null:i.touched)),o.xp6(3),o.Q6J("ngIf",(null==(l=r.novoUsuarioForm.get("fullName"))?null:l.errors)&&(null==(l=r.novoUsuarioForm.get("fullName"))?null:l.touched)),o.xp6(3),o.Q6J("ngIf",(null==(p=r.novoUsuarioForm.get("userName"))||null==p.errors?null:p.errors.minusculo)&&(null==(p=r.novoUsuarioForm.get("userName"))?null:p.touched)),o.xp6(1),o.Q6J("ngIf",null==(g=r.novoUsuarioForm.get("userName"))||null==g.errors?null:g.errors.usuarioExistente),o.xp6(3),o.Q6J("ngIf",null==r.novoUsuarioForm.errors?null:r.novoUsuarioForm.errors.senhaIgualUsuario),o.xp6(5),o.Q6J("routerLink",o.DdM(8,k))}},dependencies:[c.O5,m.yS,a._Y,a.Fj,a.JJ,a.JL,h.c,a.sg,a.u]}),e})()}]}];let z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[m.Bz.forChild(R),m.Bz]}),e})();var B=s(4117);let O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[c.ez,z,a.u5,B.m]}),e})()}}]);